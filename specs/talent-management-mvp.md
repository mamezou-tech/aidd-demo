# タレントマネジメントシステム（MVP）仕様書

**Version**: 1.0.0  
**Created**: 2025-11-14  
**Status**: Draft

## 1. 目的

社員情報・スキル情報・組織情報を一元管理し、人事とマネージャーが「誰がどのスキルを持ち、どの組織に所属しているか」をすばやく把握できるようにする。配置最適化や要員検討のための基盤となるデータを整備することを目的とする。

## 2. 主な利用者

### 2.1 人事
- 全社の社員・スキル・組織情報を俯瞰
- 配置検討や採用計画のインプットに利用

### 2.2 マネージャー
- 自チームのメンバー構成とスキル状況を把握
- 要員計画や育成計画の検討に利用

### 2.3 一般社員
- 自分のプロフィールとスキル情報を確認・更新
- MVPでは編集可否はシンプルに扱う

## 3. ユースケース一覧

### UC-001: ログイン
- **アクター**: 全ユーザー
- **概要**: システムにログインし、認証を受ける
- **フロー**:
  1. ユーザーがログイン画面でID/パスワードを入力
  2. システムが認証を実行
  3. 成功時、ホーム画面へ遷移

### UC-002: 社員情報検索
- **アクター**: 人事、マネージャー
- **概要**: 条件を指定して社員を検索する
- **フロー**:
  1. 検索画面で条件を入力（氏名、所属組織、役職、スキルなど）
  2. 検索実行
  3. 検索結果一覧を表示（顔写真付き）
  4. 社員を選択して詳細画面へ遷移

### UC-003: 社員情報詳細閲覧
- **アクター**: 全ユーザー
- **概要**: 社員の詳細情報を閲覧する
- **フロー**:
  1. 社員詳細画面を表示
  2. 基本情報、顔写真、保有スキル、所属組織を表示

### UC-004: 社員情報登録・編集
- **アクター**: 人事
- **概要**: 社員の基本情報を登録・編集する
- **フロー**:
  1. 社員情報入力画面を表示
  2. 基本情報を入力（氏名、社員ID、所属組織、役職、雇用区分など）
  3. 顔写真をアップロード（任意）
  4. 保存実行

### UC-005: スキル情報登録
- **アクター**: 人事、社員本人
- **概要**: 社員の保有スキルを登録する
- **フロー**:
  1. 社員を選択
  2. スキル選択画面でスキルマスタから選択
  3. スキルレベルを入力（シンプルな3段階程度）
  4. 保存実行

### UC-006: スキル検索
- **アクター**: 人事、マネージャー
- **概要**: 特定スキルを持つ社員を検索する
- **フロー**:
  1. スキル検索画面でスキルを選択
  2. 検索実行
  3. 該当社員一覧を表示（顔写真付き）

### UC-007: 組織ツリー閲覧
- **アクター**: 全ユーザー
- **概要**: 組織の階層構造を閲覧する
- **フロー**:
  1. 組織ツリー画面を表示
  2. 親子関係を持つ組織構造を表示
  3. 組織を選択すると所属社員一覧を表示

### UC-008: 組織情報管理
- **アクター**: 人事
- **概要**: 組織の登録・編集・削除を行う
- **フロー**:
  1. 組織管理画面を表示
  2. 組織情報を入力（組織名、親組織、組織コードなど）
  3. 保存実行

### UC-009: スキルマスタ管理
- **アクター**: 人事
- **概要**: スキルマスタの登録・編集を行う
- **フロー**:
  1. スキルマスタ管理画面を表示
  2. スキル情報を入力（スキル名、カテゴリなど）
  3. 保存実行

## 4. 画面・API概要

### 4.1 画面一覧

#### SCR-001: ログイン画面
- **項目**: ユーザーID、パスワード
- **操作**: ログインボタン

#### SCR-002: ホーム画面
- **項目**: ユーザー情報表示、メニュー
- **操作**: 各機能へのナビゲーション

#### SCR-003: 社員検索画面
- **項目**: 
  - 検索条件（氏名、社員ID、所属組織、役職、スキル）
  - 検索結果一覧（顔写真、氏名、社員ID、所属組織、役職）
- **操作**: 検索、詳細表示、新規登録

#### SCR-004: 社員詳細画面
- **項目**:
  - 基本情報（氏名、社員ID、所属組織、役職、雇用区分、入社日など）
  - 顔写真
  - 保有スキル一覧（スキル名、カテゴリ、レベル）
  - 所属組織情報
- **操作**: 編集、スキル追加

#### SCR-005: 社員編集画面
- **項目**: 基本情報入力フォーム、顔写真アップロード
- **操作**: 保存、キャンセル

#### SCR-006: スキル登録画面
- **項目**: スキル選択（ドロップダウン）、レベル選択
- **操作**: 追加、削除、保存

#### SCR-007: 組織ツリー画面
- **項目**: 組織階層ツリー、選択組織の所属社員一覧
- **操作**: 組織選択、社員詳細表示

#### SCR-008: 組織管理画面
- **項目**: 組織一覧、組織情報入力フォーム
- **操作**: 新規登録、編集、削除

#### SCR-009: スキルマスタ管理画面
- **項目**: スキル一覧、スキル情報入力フォーム
- **操作**: 新規登録、編集、削除

### 4.2 主要API一覧

#### 認証API
- `POST /api/auth/login` - ログイン
- `POST /api/auth/logout` - ログアウト

#### 社員API
- `GET /api/employees` - 社員一覧取得（検索条件付き）
- `GET /api/employees/{id}` - 社員詳細取得
- `POST /api/employees` - 社員登録
- `PUT /api/employees/{id}` - 社員更新
- `DELETE /api/employees/{id}` - 社員削除
- `GET /api/employees/{id}/photo` - 顔写真取得
- `POST /api/employees/{id}/photo` - 顔写真アップロード

#### スキルAPI
- `GET /api/skills` - スキルマスタ一覧取得
- `POST /api/skills` - スキルマスタ登録
- `PUT /api/skills/{id}` - スキルマスタ更新
- `DELETE /api/skills/{id}` - スキルマスタ削除
- `GET /api/employees/{id}/skills` - 社員の保有スキル取得
- `POST /api/employees/{id}/skills` - 社員スキル登録
- `DELETE /api/employees/{id}/skills/{skillId}` - 社員スキル削除

#### 組織API
- `GET /api/organizations` - 組織一覧取得
- `GET /api/organizations/tree` - 組織ツリー取得
- `GET /api/organizations/{id}` - 組織詳細取得
- `POST /api/organizations` - 組織登録
- `PUT /api/organizations/{id}` - 組織更新
- `DELETE /api/organizations/{id}` - 組織削除
- `GET /api/organizations/{id}/employees` - 組織所属社員一覧取得

## 5. データモデル概要

### 5.1 社員（Employee）
- **主キー**: employee_id
- **属性**:
  - employee_code (社員コード)
  - last_name (姓)
  - first_name (名)
  - last_name_kana (姓カナ)
  - first_name_kana (名カナ)
  - email (メールアドレス)
  - organization_id (所属組織ID) ※外部キー
  - position (役職)
  - employment_type (雇用区分)
  - hire_date (入社日)
  - photo_path (顔写真パス)
  - created_at, updated_at

### 5.2 スキルマスタ（Skill）
- **主キー**: skill_id
- **属性**:
  - skill_name (スキル名)
  - skill_category (カテゴリ: 技術/ビジネス/言語など)
  - description (説明)
  - created_at, updated_at

### 5.3 社員スキル（EmployeeSkill）
- **主キー**: employee_skill_id
- **属性**:
  - employee_id (社員ID) ※外部キー
  - skill_id (スキルID) ※外部キー
  - skill_level (レベル: 1=基礎/2=中級/3=上級)
  - acquired_date (取得日)
  - created_at, updated_at

### 5.4 組織（Organization）
- **主キー**: organization_id
- **属性**:
  - organization_code (組織コード)
  - organization_name (組織名)
  - parent_organization_id (親組織ID) ※外部キー（自己参照）
  - organization_level (階層レベル)
  - created_at, updated_at

### 5.5 ユーザー（User）
- **主キー**: user_id
- **属性**:
  - username (ユーザー名)
  - password_hash (パスワードハッシュ)
  - employee_id (社員ID) ※外部キー
  - created_at, updated_at

### 5.6 顔写真の扱い
- 顔写真はファイルシステムまたはオブジェクトストレージに保存
- 社員テーブルにはパス情報のみを保持
- 画像形式: JPEG/PNG
- サイズ制限: 最大2MB
- 検索条件には含めない（表示のみ）

## 6. 非機能要件（MVP最低限）

### 6.1 パフォーマンス
- 社員検索: 1000件以下の結果を3秒以内に表示
- 画面遷移: 通常操作で2秒以内に応答

### 6.2 セキュリティ
- パスワードはハッシュ化して保存
- HTTPS通信を使用
- セッション管理による認証状態の維持

### 6.3 可用性
- 営業時間内（平日9:00-18:00）の稼働を想定
- ダウンタイムは計画メンテナンス時のみ

### 6.4 データ整合性
- 外部キー制約による参照整合性の保証
- トランザクション管理による更新の原子性

### 6.5 ユーザビリティ
- レスポンシブデザイン（PC/タブレット対応）
- 直感的なナビゲーション
- エラーメッセージの明確な表示

## 7. MVP対象外機能

以下の機能はMVPでは実装しない：

### 7.1 詳細な権限管理
- ロールごとの細かい閲覧制御
- 項目レベルのアクセス制御
- データスコープによる制限

### 7.2 詳細な監査ログ
- 画面単位・項目単位の操作履歴
- 変更前後の値の記録
- ログの検索・分析機能

### 7.3 高度なスキル分析
- スキルマップ自動生成
- スキルギャップ分析
- スキルトレンド分析
- レコメンデーション機能

### 7.4 組織改編の履歴管理
- 組織変更のタイムライン管理
- 過去時点の組織構造の再現
- 異動履歴の追跡

### 7.5 外部システム連携
- 人事給与システムとの自動連携
- Active Directoryとの統合
- SSOによる認証
- データインポート/エクスポート機能

### 7.6 その他
- 多言語対応
- 通知機能（メール/プッシュ通知）
- ワークフロー機能（承認プロセス）
- レポート出力機能
- モバイルアプリ

## 8. 技術スタック

### 8.1 バックエンド
- Java 17
- Spring Boot 3
- Spring Data JPA
- MySQL 8.0

### 8.2 フロントエンド
- React 18
- TypeScript
- React Router
- Axios

### 8.3 開発・運用
- Spec-Kit（仕様管理）
- Amazon Q Developer（開発支援）
- Git（バージョン管理）

## 9. 制約事項

### 9.1 データ制約
- 社員は1つの組織にのみ所属
- 組織階層は単純な親子関係のみ
- スキルレベルは3段階（基礎/中級/上級）

### 9.2 機能制約
- 顔写真は表示のみ（検索条件に含めない）
- 認証はシンプルなID/パスワード方式
- 権限管理は最小限（人事/マネージャー/一般の区別程度）

### 9.3 運用制約
- 初期データは手動登録
- バックアップは日次で実施
- システムメンテナンスは営業時間外に実施

## 10. 今後の拡張性

MVPの成功後、以下の機能拡張を検討：

- 詳細な権限管理とデータスコープ
- 監査ログと変更履歴の追跡
- スキル分析とレコメンデーション
- 組織改編履歴の管理
- 外部システムとの連携
- ワークフロー機能
- レポート・ダッシュボード機能
