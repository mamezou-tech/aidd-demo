# タレントマネジメントMVP仕様 - 曖昧点の洗い出しと質問リスト

**Version**: 1.0.0  
**Created**: 2025-11-14  
**Related Spec**: talent-management-mvp.md

## 1. ログイン／認証方式

### 1.1 曖昧な点
- 認証方式の具体的な実装方法が不明確
- セッション管理の詳細が未定義
- パスワードポリシーが未定義
- 初回ログイン時の処理が不明確

### 1.2 質問リスト

**Q1-1: 認証トークンの方式**
- セッションベース認証を使用しますか？
- それともJWTトークンベース認証を使用しますか？
- セッションの有効期限はどの程度を想定していますか？（例：30分、1時間、1日）

**Q1-2: パスワードポリシー**
- パスワードの最小文字数は何文字ですか？
- 複雑性要件（英数字混在、記号必須など）は必要ですか？
- パスワードの有効期限は設定しますか？
- パスワードリセット機能はMVPに含めますか？

**Q1-3: 初回ログイン**
- 初回ログイン時にパスワード変更を強制しますか？
- 初期パスワードはどのように設定しますか？（管理者が設定、自動生成など）

**Q1-4: ログアウト**
- 自動ログアウト（タイムアウト）は実装しますか？
- 明示的なログアウト操作のみで十分ですか？

**Q1-5: ユーザーアカウント管理**
- ユーザーアカウントの作成は誰が行いますか？（人事のみ、自動作成など）
- 社員とユーザーの紐づけは1対1ですか？
- 退職者のアカウントはどう扱いますか？

## 2. 一般社員が編集可能な項目の範囲

### 2.1 曖昧な点
- 「社員本人」が編集できる項目が明確でない
- 承認フローの有無が不明確
- 編集権限の詳細な定義が不足

### 2.2 質問リスト

**Q2-1: 基本情報の編集権限**
- 社員本人が編集できる基本情報項目は何ですか？
  - 氏名（漢字/カナ）: 編集可/不可？
  - メールアドレス: 編集可/不可？
  - 顔写真: 編集可/不可？
  - その他の項目（役職、雇用区分、入社日など）: 編集可/不可？

**Q2-2: スキル情報の編集権限**
- 社員本人が自分のスキルを追加できますか？
- 社員本人が自分のスキルを削除できますか？
- スキルレベルは本人が設定できますか？それとも上長承認が必要ですか？

**Q2-3: 承認フロー**
- MVPでは承認フローは実装しませんか？
- 社員本人の編集は即座に反映されますか？
- それとも人事またはマネージャーの承認が必要ですか？

**Q2-4: 編集履歴**
- 誰がいつ何を編集したかの記録は必要ですか？
- MVPでは対象外としている「監査ログ」との境界はどこですか？

**Q2-5: 閲覧権限**
- 一般社員は他の社員の情報をどこまで閲覧できますか？
  - 全社員の基本情報: 閲覧可/不可？
  - 全社員のスキル情報: 閲覧可/不可？
  - 同じ組織内のみ: 閲覧可/不可？

## 3. 削除処理の方式

### 3.1 曖昧な点
- 物理削除か論理削除かが未定義
- 削除時の関連データの扱いが不明確
- 削除権限の詳細が不足

### 3.2 質問リスト

**Q3-1: 社員データの削除方式**
- 社員の削除は物理削除ですか、論理削除ですか？
- 論理削除の場合、削除フラグ（deleted_at）を使用しますか？
- 退職者のデータは削除しますか、それとも保持しますか？

**Q3-2: 関連データの扱い**
- 社員を削除した場合、関連する社員スキルデータはどうしますか？
  - 物理削除（CASCADE）
  - 論理削除
  - 削除不可（参照整合性エラー）
- 社員を削除した場合、ユーザーアカウントはどうしますか？

**Q3-3: 組織データの削除**
- 所属社員がいる組織は削除できますか？
- 子組織がある組織は削除できますか？
- 削除時のバリデーションルールは何ですか？

**Q3-4: スキルマスタの削除**
- 社員が保有しているスキルマスタは削除できますか？
- 削除時のバリデーションルールは何ですか？

**Q3-5: 削除の取り消し**
- 削除したデータを復元する機能は必要ですか？
- MVPでは不要と考えてよいですか？

## 4. 一覧画面におけるページング／ソートの扱い

### 4.1 曖昧な点
- ページングの実装方式が未定義
- ソート機能の詳細が不明確
- 検索結果の件数制限が不明確

### 4.2 質問リスト

**Q4-1: ページング方式**
- ページングは実装しますか？
- 1ページあたりの表示件数は何件ですか？（例：10件、20件、50件）
- ユーザーが表示件数を変更できますか？
- ページネーション方式は何ですか？（番号指定、次へ/前へのみ、無限スクロールなど）

**Q4-2: ソート機能**
- 一覧画面でソート機能は必要ですか？
- ソート可能な項目は何ですか？
  - 社員一覧: 氏名、社員コード、所属組織、役職など
  - スキル一覧: スキル名、カテゴリなど
  - 組織一覧: 組織名、組織コードなど
- デフォルトのソート順は何ですか？

**Q4-3: 検索結果の件数制限**
- 検索結果の最大表示件数は制限しますか？
- 非機能要件に「1000件以下」とありますが、1000件を超える場合の挙動は？
  - エラー表示
  - 先頭1000件のみ表示
  - 検索条件の絞り込みを促す

**Q4-4: フィルタリング**
- 一覧画面でのフィルタリング機能は必要ですか？
- 検索画面とは別に、一覧画面での絞り込みは実装しますか？

**Q4-5: 検索条件の保持**
- 検索条件は画面遷移後も保持しますか？
- ブラウザの戻るボタンで検索結果に戻れますか？

## 5. スキルレベル3段階の運用前提

### 5.1 曖昧な点
- スキルレベルの定義が曖昧
- 将来の拡張性との整合性が不明確
- レベル判定基準が未定義

### 5.2 質問リスト

**Q5-1: スキルレベルの定義**
- 3段階（基礎/中級/上級）の具体的な定義は何ですか？
  - 基礎: 学習中、基本的な知識がある、など
  - 中級: 実務経験あり、独力で作業可能、など
  - 上級: 専門家レベル、指導可能、など
- この定義は画面上に表示しますか？

**Q5-2: レベル判定基準**
- スキルレベルは誰が判定しますか？
  - 本人の自己申告
  - 上長の評価
  - 人事の判定
- 判定基準は文書化されていますか？

**Q5-3: 将来の拡張性**
- 将来的に5段階や10段階に拡張する可能性はありますか？
- 数値スコア（0-100点など）への変更可能性はありますか？
- データベース設計で拡張性を考慮すべきですか？

**Q5-4: スキルレベルの必須性**
- スキルを登録する際、レベルは必須ですか？
- レベル未設定（NULL）を許容しますか？

**Q5-5: スキルの有効期限**
- スキルには有効期限や取得日の概念が必要ですか？
- 古いスキル情報の扱いはどうしますか？
- MVPでは取得日のみで十分ですか？

## 6. その他の曖昧な点

### 6.1 顔写真の扱い

**Q6-1: 顔写真のファイル管理**
- 顔写真の保存先はどこですか？
  - ローカルファイルシステム
  - オブジェクトストレージ（S3など）
  - データベース（BLOB）
- ファイル名の命名規則は何ですか？

**Q6-2: 顔写真の更新**
- 顔写真を更新した場合、古い画像ファイルは削除しますか？
- 履歴として保持しますか？

**Q6-3: 顔写真の必須性**
- 顔写真は必須ですか、任意ですか？
- 顔写真がない場合のデフォルト画像は用意しますか？

### 6.2 データ初期化

**Q6-4: 初期データ**
- システム稼働時の初期データはどのように投入しますか？
  - 手動登録
  - CSVインポート
  - SQLスクリプト
- テストデータは用意しますか？

**Q6-5: マスタデータ**
- スキルマスタの初期データは誰が作成しますか？
- 組織マスタの初期データは誰が作成しますか？

### 6.3 エラーハンドリング

**Q6-6: バリデーションエラー**
- 入力エラー時のメッセージ表示方式は？
  - 項目ごとにインラインで表示
  - 画面上部にまとめて表示
  - モーダルダイアログで表示

**Q6-7: システムエラー**
- システムエラー発生時のユーザーへの通知方法は？
- エラーログの出力先は？

### 6.4 画面遷移

**Q6-8: 保存後の遷移**
- データ保存後の画面遷移はどうしますか？
  - 一覧画面に戻る
  - 詳細画面に遷移
  - 編集画面に留まる（成功メッセージ表示）

**Q6-9: キャンセル操作**
- 編集中にキャンセルした場合の確認ダイアログは必要ですか？
- 未保存の変更がある場合の警告は必要ですか？

## 7. 優先度付け

上記の質問を優先度別に分類：

### 高優先度（MVP実装前に必ず決定が必要）
- Q1-1: 認証トークンの方式
- Q2-1: 基本情報の編集権限
- Q2-2: スキル情報の編集権限
- Q3-1: 社員データの削除方式
- Q4-1: ページング方式
- Q5-1: スキルレベルの定義
- Q6-1: 顔写真のファイル管理

### 中優先度（実装中に決定可能）
- Q1-2: パスワードポリシー
- Q2-5: 閲覧権限
- Q3-2: 関連データの扱い
- Q4-2: ソート機能
- Q5-3: 将来の拡張性
- Q6-4: 初期データ

### 低優先度（デフォルト値で進めて後で調整可能）
- Q1-4: ログアウト
- Q4-4: フィルタリング
- Q6-6: バリデーションエラー
- Q6-8: 保存後の遷移

## 8. 推奨される決定事項（MVP想定）

以下は、MVPの性質を考慮した推奨案：

### 認証
- セッションベース認証（シンプル）
- パスワードポリシーは最小限（8文字以上）
- 自動ログアウトは30分

### 編集権限
- 社員本人は顔写真とスキル情報のみ編集可
- 基本情報は人事のみ編集可
- 承認フローは実装しない（即座に反映）

### 削除
- 論理削除（deleted_atフラグ）
- 関連データも論理削除
- 復元機能は実装しない

### ページング
- 20件/ページ
- 番号指定のページネーション
- ソートは氏名のみ（昇順/降順）

### スキルレベル
- 3段階固定（1=基礎、2=中級、3=上級）
- 本人の自己申告
- 将来の拡張は考慮しない（必要になったら移行）
