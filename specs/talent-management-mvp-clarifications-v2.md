# タレントマネジメントMVP仕様 - 曖昧点の洗い出しと質問リスト（第2版）

**Version**: 1.0.0  
**Created**: 2025-11-14  
**Related Spec**: talent-management-mvp.md (Version 1.4.0)

## 1. 画面遷移

### 1.1 ログイン後の遷移

**曖昧な点**:
- ログイン成功後、ホーム画面に遷移するとあるが、ホーム画面の具体的な内容が不明確
- ホーム画面から各機能への遷移方法が明示されていない

**質問リスト**:

**Q1-1: ホーム画面の構成**
- ホーム画面には何を表示しますか？
  - A. メニューのみ（社員検索、スキル検索へのリンク）
  - B. ダッシュボード（統計情報、最近の更新など）+ メニュー
  - C. 直接社員検索画面を表示（ホーム画面を省略）
  - D. その他

**Q1-2: ホーム画面からの遷移**
- 各機能へはどのように遷移しますか？
  - A. 上部ナビゲーションバー（常に表示）
  - B. サイドメニュー（常に表示）
  - C. ホーム画面のボタン/リンクのみ
  - D. その他

### 1.2 社員検索から詳細への遷移

**曖昧な点**:
- 検索結果一覧から詳細画面への遷移方法が不明確
- 詳細画面から検索結果一覧に戻る際の挙動が不明確

**質問リスト**:

**Q1-3: 検索結果からの詳細表示**
- 検索結果一覧で社員を選択する方法は？
  - A. 行全体をクリック
  - B. 氏名のリンクをクリック
  - C. 「詳細」ボタンをクリック
  - D. その他

**Q1-4: 詳細画面から検索結果への戻り方**
- 詳細画面から検索結果一覧に戻る際の挙動は？
  - A. ブラウザの戻るボタンで戻る（検索条件・ページ位置を保持）
  - B. 「戻る」ボタンで戻る（検索条件・ページ位置を保持）
  - C. 「検索画面へ」ボタンで戻る（検索条件はクリア）
  - D. その他

### 1.3 社員詳細から編集への遷移

**曖昧な点**:
- 詳細画面から編集画面への遷移方法が不明確
- 編集後の遷移先が不明確

**質問リスト**:

**Q1-5: 詳細画面から編集画面への遷移**
- 詳細画面から編集画面へはどのように遷移しますか？
  - A. 「編集」ボタンをクリック → 編集画面へ遷移
  - B. 詳細画面内で直接編集可能（インライン編集）
  - C. その他

**Q1-6: 編集後の遷移先**
- 社員情報を保存した後、どこに遷移しますか？
  - A. 社員詳細画面に戻る（更新後の情報を表示）
  - B. 社員検索画面に戻る（検索結果一覧を表示）
  - C. 編集画面に留まる（成功メッセージを表示）
  - D. その他

**Q1-7: 編集キャンセル時の遷移**
- 編集画面で「キャンセル」ボタンを押した場合、どこに遷移しますか？
  - A. 社員詳細画面に戻る
  - B. 社員検索画面に戻る
  - C. 確認ダイアログを表示してから遷移
  - D. その他

### 1.4 新規登録の遷移

**曖昧な点**:
- 新規登録画面への遷移元が不明確
- 新規登録後の遷移先が不明確

**質問リスト**:

**Q1-8: 新規登録画面への遷移元**
- 新規登録画面へはどこから遷移しますか？
  - A. 社員検索画面の「新規登録」ボタン
  - B. ホーム画面のメニュー
  - C. 上部ナビゲーションバーの「新規登録」
  - D. 複数箇所から遷移可能
  - E. その他

**Q1-9: 新規登録後の遷移先**
- 社員を新規登録した後、どこに遷移しますか？
  - A. 登録した社員の詳細画面
  - B. 社員検索画面（登録した社員が検索結果に含まれる）
  - C. 新規登録画面に留まる（連続登録可能）
  - D. その他

### 1.5 スキル登録の遷移

**曖昧な点**:
- スキル登録画面への遷移元が不明確
- スキル登録後の遷移先が不明確
- スキル登録画面は独立した画面か、詳細画面の一部か不明確

**質問リスト**:

**Q1-10: スキル登録画面の位置づけ**
- スキル登録画面はどのような形式ですか？
  - A. 独立した画面（SCR-006として別画面）
  - B. 社員詳細画面内のモーダルダイアログ
  - C. 社員詳細画面内のインライン編集エリア
  - D. その他

**Q1-11: スキル登録画面への遷移元**
- スキル登録画面へはどこから遷移しますか？
  - A. 社員詳細画面の「スキル追加」ボタン
  - B. 社員編集画面内のスキル編集エリア
  - C. その他

**Q1-12: スキル登録後の遷移先**
- スキルを登録した後、どこに遷移しますか？
  - A. 社員詳細画面に戻る（更新後のスキル一覧を表示）
  - B. スキル登録画面に留まる（連続登録可能）
  - C. その他

### 1.6 スキル検索の遷移

**曖昧な点**:
- スキル検索画面への遷移元が不明確
- スキル検索結果から社員詳細への遷移が不明確
- スキル検索画面は独立した画面か、社員検索画面の一部か不明確

**質問リスト**:

**Q1-13: スキル検索画面の位置づけ**
- スキル検索画面はどのような形式ですか？
  - A. 独立した画面（社員検索とは別画面）
  - B. 社員検索画面内のタブ切り替え
  - C. 社員検索画面の検索条件の一部（スキルで絞り込み）
  - D. その他

**Q1-14: スキル検索画面への遷移元**
- スキル検索画面へはどこから遷移しますか？
  - A. ホーム画面のメニュー
  - B. 上部ナビゲーションバー
  - C. 社員検索画面からタブ切り替え
  - D. その他

**Q1-15: スキル検索結果からの遷移**
- スキル検索結果から社員詳細画面への遷移は、社員検索と同じ挙動ですか？
  - A. 同じ（行クリックで詳細画面へ）
  - B. 異なる（具体的な挙動を説明）

### 1.7 エラー時の遷移

**曖昧な点**:
- エラー発生時の画面遷移が不明確

**質問リスト**:

**Q1-16: バリデーションエラー時の挙動**
- 入力エラー（バリデーションエラー）が発生した場合の挙動は？
  - A. 同じ画面に留まり、エラーメッセージを表示
  - B. エラー画面に遷移
  - C. その他

**Q1-17: システムエラー時の挙動**
- システムエラーが発生した場合の挙動は？
  - A. エラー画面に遷移
  - B. 同じ画面に留まり、エラーメッセージを表示
  - C. ログイン画面に戻る
  - D. その他

**Q1-18: セッションタイムアウト時の挙動**
- セッションタイムアウトが発生した場合の挙動は？
  - A. ログイン画面に自動遷移（メッセージ表示）
  - B. 現在の画面に留まり、警告メッセージを表示
  - C. その他

## 2. ユースケースと画面の対応

### 2.1 ユースケースと画面の対応関係

**曖昧な点**:
- 各ユースケースがどの画面で実現されるのか明確でない
- 画面間の遷移フローが明示されていない

**質問リスト**:

**Q2-1: UC-002（社員情報検索）の画面対応**
- UC-002は以下のどの画面で実現されますか？
  - A. SCR-003（社員検索画面）のみ
  - B. SCR-003 + SCR-004（詳細画面）
  - C. その他

**Q2-2: UC-003（社員情報詳細閲覧）の画面対応**
- UC-003は以下のどの画面で実現されますか？
  - A. SCR-004（社員詳細画面）のみ
  - B. その他

**Q2-3: UC-004（社員情報登録・編集）の画面対応**
- UC-004は以下のどの画面で実現されますか？
  - A. SCR-005（社員編集画面）のみ（新規登録と編集を兼用）
  - B. SCR-005（編集用）+ 別の新規登録画面
  - C. その他

**Q2-4: UC-005（スキル情報登録）の画面対応**
- UC-005は以下のどの画面で実現されますか？
  - A. SCR-006（スキル登録画面）のみ
  - B. SCR-004（社員詳細画面）内のモーダル
  - C. SCR-005（社員編集画面）内のスキル編集エリア
  - D. その他

**Q2-5: UC-006（スキル検索）の画面対応**
- UC-006は以下のどの画面で実現されますか？
  - A. SCR-003（社員検索画面）のスキル検索条件
  - B. 独立したスキル検索画面（SCR-007など）
  - C. その他

### 2.2 画面の追加・統合の必要性

**曖昧な点**:
- 現在の画面一覧で全ユースケースをカバーできるか不明確

**質問リスト**:

**Q2-6: 画面の過不足**
- 現在の画面一覧（SCR-001～006）で全ユースケースをカバーできますか？
  - A. カバーできる（追加不要）
  - B. 不足している画面がある（具体的に指摘）
  - C. 統合できる画面がある（具体的に指摘）

**Q2-7: スキル検索専用画面の必要性**
- UC-006（スキル検索）のために独立した画面は必要ですか？
  - A. 必要（SCR-007として追加）
  - B. 不要（SCR-003の検索条件で対応）
  - C. その他

**Q2-8: 新規登録専用画面の必要性**
- 社員の新規登録のために、編集画面とは別の画面は必要ですか？
  - A. 必要（SCR-005とは別画面）
  - B. 不要（SCR-005を新規登録と編集で兼用）
  - C. その他

### 2.3 画面遷移図の必要性

**曖昧な点**:
- 画面遷移の全体像が把握しにくい

**質問リスト**:

**Q2-9: 画面遷移図の作成**
- 画面遷移図を作成して仕様書に追加しますか？
  - A. 必要（Mermaid形式で追加）
  - B. 不要（テキストでの説明で十分）
  - C. その他

## 3. 写真の保存方法

### 3.1 保存先の選択

**曖昧な点**:
- 顔写真の具体的な保存先が決まっていない
- 保存先の選択基準が不明確

**質問リスト**:

**Q3-1: 顔写真の保存先**
- 顔写真はどこに保存しますか？
  - A. ローカルファイルシステム（アプリケーションサーバー上）
  - B. オブジェクトストレージ（Amazon S3など）
  - C. データベース（BLOBフィールド）
  - D. その他

**Q3-2: 保存先選択の理由**
- 保存先を選択する際の優先事項は何ですか？
  - A. コストの低さ
  - B. 実装の簡単さ
  - C. スケーラビリティ
  - D. バックアップの容易さ
  - E. その他

### 3.2 ファイル名の命名規則

**曖昧な点**:
- 保存するファイルの命名規則が不明確
- ファイル名の重複をどう防ぐか不明確

**質問リスト**:

**Q3-3: ファイル名の命名規則**
- 保存するファイル名はどのような形式にしますか？
  - A. 社員ID + 拡張子（例: `12345.jpg`）
  - B. 社員ID + タイムスタンプ + 拡張子（例: `12345_20251114.jpg`）
  - C. UUID + 拡張子（例: `a1b2c3d4-e5f6.jpg`）
  - D. その他

**Q3-4: ファイル名の重複対策**
- 同じ社員が複数回写真をアップロードした場合の挙動は？
  - A. 古いファイルを上書き（同じファイル名を使用）
  - B. 古いファイルを削除してから新しいファイルを保存
  - C. 新しいファイル名で保存（タイムスタンプやバージョン番号を付与）
  - D. その他

### 3.3 ディレクトリ構造

**曖昧な点**:
- ファイルを保存するディレクトリ構造が不明確

**質問リスト**:

**Q3-5: ディレクトリ構造**
- ファイルはどのようなディレクトリ構造で保存しますか？
  - A. フラット構造（すべて同じディレクトリ）
  - B. 社員IDの上位桁で分割（例: `/photos/12/34/12345.jpg`）
  - C. 年月で分割（例: `/photos/2025/11/12345.jpg`）
  - D. その他

**Q3-6: ディレクトリのパス**
- ファイルを保存するルートディレクトリのパスは？
  - A. アプリケーションディレクトリ配下（例: `/app/uploads/photos/`）
  - B. システムの共有ディレクトリ（例: `/var/data/photos/`）
  - C. 環境変数で指定
  - D. その他

### 3.4 データベースへの記録

**曖昧な点**:
- データベースに記録する情報が不明確

**質問リスト**:

**Q3-7: データベースに記録する情報**
- 社員テーブルの`photo_path`フィールドには何を記録しますか？
  - A. 相対パス（例: `photos/12345.jpg`）
  - B. 絶対パス（例: `/var/data/photos/12345.jpg`）
  - C. ファイル名のみ（例: `12345.jpg`）
  - D. URL（例: `https://example.com/photos/12345.jpg`）
  - E. その他

**Q3-8: 写真未登録時の扱い**
- 顔写真が未登録の場合、`photo_path`フィールドの値は？
  - A. NULL
  - B. 空文字列
  - C. デフォルト画像のパス
  - D. その他

### 3.5 ファイルのアクセス制御

**曖昧な点**:
- 保存したファイルへのアクセス制御が不明確

**質問リスト**:

**Q3-9: ファイルへのアクセス方法**
- 保存した顔写真にはどのようにアクセスしますか？
  - A. 静的ファイルとして直接アクセス（例: `https://example.com/photos/12345.jpg`）
  - B. APIを経由してアクセス（例: `GET /api/employees/12345/photo`）
  - C. その他

**Q3-10: アクセス制御の必要性**
- 顔写真へのアクセスに認証は必要ですか？
  - A. 必要（ログインしていないとアクセスできない）
  - B. 不要（URLを知っていれば誰でもアクセス可能）
  - C. その他

### 3.6 ファイルの削除

**曖昧な点**:
- 社員削除時や写真更新時のファイル削除タイミングが不明確

**質問リスト**:

**Q3-11: 社員削除時のファイル削除**
- 社員を削除（論理削除）した場合、顔写真ファイルはどうしますか？
  - A. 即座に物理削除
  - B. 論理削除と同時に削除フラグを立てる（ファイルは残す）
  - C. バッチ処理で後から削除
  - D. 削除しない（残しておく）
  - E. その他

**Q3-12: 写真更新時の古いファイル削除**
- 顔写真を更新した場合、古いファイルはどうしますか？
  - A. 即座に削除
  - B. バッチ処理で後から削除
  - C. 削除しない（履歴として残す）
  - D. その他

**Q3-13: 写真削除機能の有無**
- 顔写真を削除する機能（未登録状態に戻す）は必要ですか？
  - A. 必要（削除ボタンを用意）
  - B. 不要（更新のみ可能）
  - C. その他

### 3.7 ファイルサイズとストレージ容量

**曖昧な点**:
- ストレージ容量の見積もりが不明確

**質問リスト**:

**Q3-14: 想定社員数とストレージ容量**
- 想定社員数は何人ですか？
  - A. 100人未満
  - B. 100～1,000人
  - C. 1,000～10,000人
  - D. 10,000人以上

**Q3-15: ストレージ容量の見積もり**
- 顔写真の平均ファイルサイズを500KBと仮定した場合、必要なストレージ容量は？
  - 計算例: 1,000人 × 500KB = 500MB
  - この容量で問題ありませんか？

### 3.8 画像の最適化

**曖昧な点**:
- アップロード時の画像最適化処理が不明確

**質問リスト**:

**Q3-16: 画像のリサイズ**
- アップロードされた画像をリサイズしますか？
  - A. リサイズする（最大幅・高さを指定）
  - B. リサイズしない（元のサイズのまま保存）
  - C. その他

**Q3-17: サムネイルの生成**
- 一覧表示用のサムネイルを生成しますか？
  - A. 生成する（別ファイルとして保存）
  - B. 生成しない（元画像を縮小表示）
  - C. その他

**Q3-18: 画像形式の変換**
- アップロードされた画像の形式を統一しますか？
  - A. 統一する（例: すべてJPEGに変換）
  - B. 統一しない（JPEG/PNGをそのまま保存）
  - C. その他

## 4. 優先度付け

### 高優先度（MVP実装前に必ず決定が必要）

#### 画面遷移
- Q1-1: ホーム画面の構成
- Q1-2: ホーム画面からの遷移
- Q1-6: 編集後の遷移先
- Q1-9: 新規登録後の遷移先

#### ユースケースと画面の対応
- Q2-3: UC-004の画面対応（新規登録と編集の画面統合）
- Q2-4: UC-005の画面対応（スキル登録画面の位置づけ）
- Q2-5: UC-006の画面対応（スキル検索画面の必要性）

#### 写真の保存方法
- Q3-1: 顔写真の保存先
- Q3-3: ファイル名の命名規則
- Q3-7: データベースに記録する情報
- Q3-9: ファイルへのアクセス方法

### 中優先度（実装中に決定可能）

#### 画面遷移
- Q1-4: 詳細画面から検索結果への戻り方
- Q1-10: スキル登録画面の位置づけ
- Q1-16: バリデーションエラー時の挙動

#### ユースケースと画面の対応
- Q2-6: 画面の過不足
- Q2-9: 画面遷移図の作成

#### 写真の保存方法
- Q3-4: ファイル名の重複対策
- Q3-5: ディレクトリ構造
- Q3-11: 社員削除時のファイル削除
- Q3-16: 画像のリサイズ

### 低優先度（デフォルト値で進めて後で調整可能）

#### 画面遷移
- Q1-17: システムエラー時の挙動
- Q1-18: セッションタイムアウト時の挙動

#### 写真の保存方法
- Q3-10: アクセス制御の必要性
- Q3-13: 写真削除機能の有無
- Q3-17: サムネイルの生成
- Q3-18: 画像形式の変換

## 5. 推奨される決定事項（MVP想定）

以下は、MVPの性質を考慮した推奨案：

### 画面遷移
- **ホーム画面**: メニューのみ（シンプル）
- **ナビゲーション**: 上部ナビゲーションバー（常に表示）
- **編集後の遷移**: 社員詳細画面に戻る
- **新規登録後の遷移**: 登録した社員の詳細画面
- **戻るボタン**: 検索条件・ページ位置を保持

### ユースケースと画面の対応
- **新規登録と編集**: SCR-005を兼用（モードで切り替え）
- **スキル登録**: SCR-004（詳細画面）内のモーダルダイアログ
- **スキル検索**: SCR-003の検索条件で対応（独立画面不要）

### 写真の保存方法
- **保存先**: ローカルファイルシステム（MVPとしてシンプル）
- **ファイル名**: 社員ID + 拡張子（例: `12345.jpg`）
- **ディレクトリ**: フラット構造（`/uploads/photos/`）
- **DB記録**: 相対パス（例: `photos/12345.jpg`）
- **アクセス方法**: APIを経由（`GET /api/employees/{id}/photo`）
- **ファイル削除**: 更新時は即座に削除、社員削除時はバッチ処理
- **画像最適化**: リサイズあり（最大800x800px）、サムネイル不要
